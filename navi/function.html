<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2023-2 UROP</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <style>
        body {
            font-family: 'Arial', sans-serif;
        }
        .navbar-brand, .nav-item {
            font-size: 20px;
            font-weight: bold;
        }
        .form-control, .form-label {
            font-weight: bold;
            font-size: 20px;
        }
        .bg-light {
            padding: 20px;
        }
        .in {
            text-indent: 30px;
        }
        .container {
            background-color: #ffffff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin-top: 20px;
            padding: 20px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px 50px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        ul{
            list-style:none;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: rgb(0,0,0);">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">UROP</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            개발 가이드
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">환경설정</a></li>
                            <li><a class="dropdown-item" href="#">클라이언트</a></li>
                            <li><a class="dropdown-item" href="#">서버</a></li>
                            <li><a class="dropdown-item" href="#">알고리즘</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            앱 설명
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">앱 빌드 방법</a></li>
                            <li><a class="dropdown-item" href="#">앱 구동 모습 설명</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="p-5 mb-4 bg-light rounded-3">
        <div class="container-fluid py-5">
            <h3 class="fw-bold">📌&nbsp;&nbsp;BOTTOM NAVIGATION 주요 구성 요소 및 기능</h3>
            <br>
            <h6>→&nbsp;&nbsp;예제 코드는 Flutter 프레임워크를 사용하여 개발된 Dart 코드입니다. </h6>
            <hr>

            <br>
            <p class="col-md-12 fs-5"><strong>0. 패키지 import를 위한 환경설정</strong></p>
            <p class="col-md-12 fs-6">import를 위해 필요한 환경설정을 구현합니다.</p>
            <p class="col-md-12 fs-6 in">1.1 pubspec.yaml 파일의 dependencies를 찾아 밑 코드를 추가합니다.</p>
            <br>
            <pre style="width: max-content;">
                <code class="dart" style="text-align: center;">
                  dependencies:
                    flutter:
                      sdk: flutter
                    http: ^0.13.3   # 서버와 통신하고, 서버에 http 요청을 보내기 위한 패키지
                    url_launcher: ^6.0.9  # 다양한 외부 애플리케이션을 열거나 웹 페이지를 열기 위한 URL을 실행하는 데 사용되는 패키지
                    shared_preferences: ^2.0.12  # 파일 입출력 및 플랫폼별 기능을 사용하기 위한 패키지
                    convex_bottom_bar: ^4.2.0  # Convex 아이콘을 사용한 하단 탐색 바를 만드는 데 사용되는 패키지
                </code>
            </pre>
            <br>
            <p class="col-md-12 fs-6 in">1.2 터미널에서 flutter pub get 명령어를 사용하여 프로젝트의 의존성을 최신 버전으로 업그레이드합니다.</p>
            <p class="col-md-12 fs-6 in">1.3 각 버전은 예시이며, 최신 버전은 플러터 공식 홈페이지를 참고해주세요.</p>

            <br>
            <p class="col-md-12 fs-5"><strong>1. 패키지 import</strong></p>
            <p class="col-md-12 fs-6">우선, 페이지 구현을 위해 필요한 패키지들을 import 합니다.</p>
            <p class="col-md-12 fs-6 in">1.1 Flutter에서 UI를 구현하기 위한 기본 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.2 서버와 통신하고, 서버에 http 요청을 보내기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.3 JSON 데이터를 인코딩하거나 디코딩하기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.4 플랫폼 간 통신과 관련된 기능(시스템 UI 모드를 제어하는 데 사용)을 제공하기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.5 파일 입출력 및 플랫폼별 기능을 사용하기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.6 URL을 열거나 다른 앱으로 이동하기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.7 로컬 저장소에 데이터를 저장하고 검색하기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.8 BottomNavigationBar의 디자인을 도와주기 위한 패키지 import</p>
            <p class="col-md-12 fs-6 in">1.9 각각의 페이지를 나타내는 Dart 파일들 import</p>
            <br>
            <pre style="width: max-content;">
                <code class="dart" style="text-align: center;"><br>import 'package:flutter/material.dart';<br>import 'package:http/http.dart' as http;<br>import 'dart:convert';<br>import 'package:flutter/services.dart';<br>import 'dart:io';<br>import 'package:url_launcher/url_launcher.dart';<br>import 'package:shared_preferences/shared_preferences.dart';<br>import 'package:convex_bottom_bar/convex_bottom_bar.dart';<br>import 'ranking.dart';<br>import 'picture.dart';<br>import 'my.dart';<br>import 'sudokugame.dart';<br>import 'ar.dart';</code>
            </pre>

            <br>
            <br>
            <p class="col-md-12 fs-5"><strong>2. main 함수</strong></p>
            <p class="col-md-12 fs-6 in">2.1 Dart 언어에서는 프로그램의 실행이 main 함수로부터 시작됩니다.</p>
            <p class="col-md-12 fs-6 in">2.2  runApp 함수는 Flutter 애플리케이션을 실행하는 데 사용됩니다. 여기서 const MyApp()은 Flutter 앱의 최상위 위젯을 나타냅니다. MyApp은 MaterialApp을 상속한 위젯입니다. MaterialApp은 Material Design 스타일의 앱을 생성하는 데 사용되는 기본 앱 구성을 제공합니다. const 키워드는 MyApp 위젯이 상태를 가지지 않고 불변이라는 것을 나타냅니다. 이는 앱의 전체 라이프사이클 동안 변경되지 않는 정적인 구성을 가진 위젯임을 의미합니다.</p>
            <br>
            <pre>
                <code>
                  void main() {
                    runApp(const MyApp());
                  }
                </code>
            </pre>
            
            <br>
            <br>
            <p class="col-md-12 fs-5"><strong>3. MyApp 클래스 (상태 관리)</strong></p>
            <p class="col-md-12 fs-6 in">3.1 MyApp은 Flutter 앱의 최상위 위젯입니다.</p>
            <p class="col-md-12 fs-6 in">3.2 클래스는 StatelessWidget을 상속하고 있습니다. StatelessWidget은 상태를 가지지 않는(불변의) 위젯을 나타냅니다. 상태가 변하지 않는 정적인 UI를 구성할 때 사용됩니다.</p>
            <p class="col-md-12 fs-6 in">3.3 이 클래스의 생성자는 const로 선언되어, MyApp이 불변하고 상태를 가지지 않는 위젯임을 나타냅니다. 생성자의 매개변수는 key이며, super.key는 부모 클래스의 생성자에 key를 전달하는 것을 나타냅니다.</p>
            <p class="col-md-12 fs-6 in">3.4 build 메서드는 해당 위젯을 구성하고 렌더링하는 메서드입니다. BuildContext context는 Flutter 프레임워크에서 현재 위젯의 위치 및 테마와 같은 정보에 접근할 때 사용되는 매개변수입니다.</p>

            <br>
            <pre>
                <code>
                  // 앱의 기본 구성을 정의하는 클래스
                  class MyApp extends StatelessWidget {
                    const MyApp({super.key});

                    @override
                    Widget build(BuildContext context) {
                      return MaterialApp(

                        // 앱의 테마를 설정
                        theme: ThemeData(
                          primarySwatch: Colors.grey,
                        ),
                        // 앱이 시작될 때 처음 표시되는 화면을 설정
                        home: const MyHomePage(title: 'Sudoku'),
                      );
                    }
                  }
                </code>
            </pre>

            <br>
            <br>
            <p class="col-md-12 fs-5"><strong>4. MyHomePage 클래스</strong></p>
            <p class="col-md-12 fs-6 in">4.1 화면의 상태가 변경될 때마다(title이 바뀔 때마다) 화면이 다시 그려져야 하기 때문에, StatefulWidget 위젯을 사용하였습니다.</p>
            <p class="col-md-12 fs-6 in">4.2 이 위젯의 상태는 _MyHomePageState에서 관리됩니다.</p>
            <br>
            <pre>
                <code>
                  class MyHomePage extends StatefulWidget {
                    const MyHomePage({super.key, required this.title});
                  
                    final String title;
                  
                    @override
                    State<MyHomePage> createState() => _MyHomePageState();
                  }
                </code>
            </pre>
            <br>
            <p class="col-md-12 fs-5"><strong>5. _MyHomePageState 클래스 (상태 관리)</strong></p>
            <p class="col-md-12 fs-6 in">5.1 _MyHomePageState 클래스는 PicturePage 위젯의 상태를 관리하기 때문에, State<MyHomePage>를 상속합니다.</p>
            <p class="col-md-12 fs-6 in">5.2 ._MyHomePageState 클래스는 현재 선택된 페이지와 페이지 목록을 가지고 있습니다.</p>
            <p class="col-md-12 fs-6 in">5.3 selectedPage는 현재 선택된 페이지의 인덱스를 나타내는 변수입니다. 이 변수는 나중에 사용자가 탭한 탭에 따라 변경됩니다.</p>
            <p class="col-md-12 fs-6 in">5.4 _pageOptions은 앱에서 사용될 여러 페이지(위젯)를 나타내는 리스트입니다. 각각의 페이지는 다른 클래스의 인스턴스입니다. 이 리스트는 각 페이지에 대한 인스턴스를 미리 생성하여 저장하고 있습니다. 이렇게 하면 사용자가 탭을 변경할 때마다 새로운 인스턴스를 생성하는 것이 아니라 기존에 생성된 인스턴스를 사용하여 더 효율적으로 메모리를 관리할 수 있습니다.</p>
            <br>
            <pre>
                <code>
                  class _MyHomePageState extends State<MyHomePage> {
                    int selectedPage = 0;
                    final _pageOptions = [const SudokuGame(), const PicturePage(), const ArPage(), RankingPage()];
                </code>
            </pre>

            <br>
            <br>
            <p class="col-md-12 fs-5"><strong>6. build 메서드</strong></p>
            <p class="col-md-12 fs-6 in">6.1 화면을 렌더링하는 메서드입니다.</p>
            <p class="col-md-12 fs-6 in">6.2 선택된 페이지에 따라서 _pageOptions에서 해당하는 페이지를 표시합니다.</p>
            <p class="col-md-12 fs-6 in">6.3 bottomNavigationBar의 ConvexAppBar는 하단의 탭 바를 나타내며, 각 탭은 아이콘과 연결되어 있습니다. 탭을 누를 때마다 onTap 함수를 통해 선택된 페이지가 변경됩니다.</p>
            <p class="col-md-12 fs-6 in">6.4 onTap 함수는 사용자가 탭을 선택했을 때 호출되며, 선택된 페이지를 업데이트하여 해당 페이지로 이동합니다.</p>
            <br>
            <pre>
                <code>
                  @override
                  Widget build(BuildContext context) {
                    SystemChrome.setEnabledSystemUIMode(SystemUiMode.manual, overlays: []);
                    return Scaffold(
                      appBar: AppBar(
                        title: const Row(
                          children: [
                            SizedBox(width: 50), // 간격 조정
                            Text(
                              // 타이틀 글씨 설정
                              "Make Sudoku",
                              style: TextStyle(
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                          ],
                        ),
                        actions: [
                          IconButton(
                            // 사용자 계정
                            icon: const Icon(Icons.person),
                            onPressed: () {
                              Navigator.push(
                                context,
                                MaterialPageRoute(builder: (context) => const MyPage()),
                              );
                            },
                          ),
                          IconButton(
                            // 설정
                            icon: const Icon(Icons.settings),
                            onPressed: () {
                              // 설정 페이지로 이동하는 코드 나중에 추가하기
                            },
                          ),
                          const SizedBox(width: 50),
                        ],
                      ),
                      body: _pageOptions[selectedPage],
                      bottomNavigationBar: ConvexAppBar(
                        initialActiveIndex: 0, //optional, default as 0
                        backgroundColor: Colors.white, // 배경색
                        color: Colors.grey[500],
                        activeColor: Colors.grey[700],
                        elevation: 1, // elevation 0으로 처리하면 그림자가 제거됨
                        items: const [
                          TabItem(
                            icon: Icons.home,  // 메인에 뜨는 화면
                          ),
                          TabItem(icon: Icons.file_copy_rounded),
                          TabItem(icon: Icons.remove_red_eye),
                          TabItem(icon: Icons.people),
                        ],
                
                        // 어떤 탭 인덱스를 눌렀는지 트리거 처리하여 페이지를 변경함
                        onTap: (int index) {
                          setState(() {
                            selectedPage = index;
                          });
                        },
                      ),
                    );
                  }
                }
                </code>
            </pre>

            
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>
